<!-- This is the HTML for the overlay with improved video attributes -->
<!DOCTYPE html>
<html>
<head>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" />
</head>
<body>
  <!-- Control Bar -->
  <div class="control-bar">
    <button id="mic-toggle" class="control-button">
      <i class="fas fa-microphone"></i>
    </button>
    <button id="camera-toggle" class="control-button">
      <i class="fas fa-video"></i>
    </button>
    <button id="chat-toggle" class="control-button">
      <i class="fas fa-comment"></i>
    </button>
    <button id="close-overlay" class="control-button">
      <i class="fas fa-times"></i>
    </button>
    <div class="room-code">Room: <span id="room-code">------</span></div>
  </div>
  
  <!-- Video Container -->
  <div class="video-container">
    <div class="video-wrapper">
      <!-- FIXED: Added playsinline attribute and improved video attributes -->
      <video id="local-video" autoplay muted playsinline></video>
      <div class="video-label">You</div>
    </div>
    <div class="video-wrapper">
      <!-- FIXED: Added playsinline attribute and preload attribute -->
      <video id="remote-video" autoplay playsinline preload="auto"></video>
      <div class="video-label">Partner</div>
    </div>
  </div>
  
  <!-- Chat Container -->
  <div id="chat-container" class="chat-container hidden">
    <div class="chat-header">
      <h3>Chat</h3>
      <button id="minimize-chat" class="control-button">
        <i class="fas fa-minus"></i>
      </button>
    </div>
    <div id="messages-container" class="messages-container">
      <div class="system-message">
        Chat started. Messages are not saved after your session ends.
      </div>
    </div>
    <div class="chat-input">
      <input type="text" id="message-input" placeholder="Type a message..." />
      <button id="send-message">
        <i class="fas fa-paper-plane"></i>
      </button>
    </div>
  </div>
  
  <!-- Debug Controls (now visible by default for easier troubleshooting) -->
  <button id="netflix-together-debug" style="position:fixed; top:90px; left:10px; z-index:10001; background:#333; color:white; border:none; padding:10px; border-radius:5px; cursor:pointer;">Debug WebRTC</button>
  
  <!-- Connection Status Indicator - Added for better visibility -->
  <div id="connection-status" class="connection-status" style="position:fixed; top:10px; left:10px; background:rgba(0,0,0,0.7); color:white; padding:5px 10px; border-radius:4px; z-index:10000;">
    <div class="status-dot connecting"></div>
    <span>Initializing...</span>
  </div>
</body>
</html>